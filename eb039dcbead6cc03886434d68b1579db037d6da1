{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a561c643_13745efa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-01-21T20:33:07Z",
      "side": 1,
      "message": "+1, but see what ccross@ thinks",
      "revId": "eb039dcbead6cc03886434d68b1579db037d6da1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37fb2c0e_619ac135",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-01-22T11:33:54Z",
      "side": 1,
      "message": "I\u0027ll work on this later... Turns out this change is not as trivial as I originally imagined. Problem is that the GKI configs in generic_arm64/BoardConfig.mk couples with the GKI configs in generic_arm64/device.mk ðŸ˜ž\n\nIt seems strange to me that board configs would depend on product configs. I think the proper way to do this CL is to refactor BOARD_KERNEL_BINARIES to PRODUCT_KERNEL_BINARIES (sigh)",
      "parentUuid": "a561c643_13745efa",
      "revId": "eb039dcbead6cc03886434d68b1579db037d6da1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "13af13fd_12ca5b1e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-01-22T23:09:10Z",
      "side": 1,
      "message": "\u003e Problem is that the GKI configs in generic_arm64/BoardConfig.mk couples with the GKI configs in generic_arm64/device.mk ðŸ˜ž\n\nCan you explain which lines depends on which product variable?",
      "parentUuid": "37fb2c0e_619ac135",
      "revId": "eb039dcbead6cc03886434d68b1579db037d6da1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb2e4517_5c128ca1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2021-01-23T09:14:25Z",
      "side": 1,
      "message": "`BOARD_KERNEL_BINARIES :\u003d kernel-4.19-gz kernel-5.4 ...` specified in generic_arm64/BoardConfig.mk\nwould cause the build rule for GKI boot images to be generated automatically (boot-4.19-gz.img boot-5.4.img ...), however the boot images depend on the kernel artifacts, and the kernel artifacts build rules are defined in generic_arm64/device.mk, the PRODUCT_COPY_FILES lines this CL are trying to move.\n\nIMO it makes more sense for all the GKI related configs to be product config but board config. For example setting PRODUCT_KERNEL_BINARIES in product makefile would generate GKI boot images. But I feel like it\u0027s too big of a change to make at this point since so many things are depending on BOARD_KERNEL_BINARIES already.",
      "parentUuid": "13af13fd_12ca5b1e",
      "revId": "eb039dcbead6cc03886434d68b1579db037d6da1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e436d3e2_ba849d1d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-01-26T20:54:13Z",
      "side": 1,
      "message": "I understand now. I agree, such dependency is messy ðŸ˜ž\n\nAlso, I think gki.mk is a bit misnomer; other devices that enables GKI should NOT inherit from gki.mk, since it installs to $OUT/kernel-*. They should install to $OUT/kernel instead. This is the same argument for b/177859525.\n\nWithout the benefit of reusing gki.mk on other devices, the only good thing about this change is improved readability. Also, you should be able to make generic_arm64/device.mk inherit from gki.mk directly, right?",
      "parentUuid": "fb2e4517_5c128ca1",
      "revId": "eb039dcbead6cc03886434d68b1579db037d6da1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}