{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "92c7aa7e_d5ec830a",
        "filename": "core/packaging/flags.mk",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1000701
      },
      "writtenOn": "2024-01-19T15:43:25Z",
      "side": 1,
      "message": "I don\u0027t understand the logic here. What does creating these files do?",
      "revId": "fb732b65601c760afe641a30f3e0a0ee25600493",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8feaacd1_f2c5a44d",
        "filename": "core/packaging/flags.mk",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1882770
      },
      "writtenOn": "2024-01-19T15:48:05Z",
      "side": 1,
      "message": "If a partiton has no aconfig flags, then line 111 skips the aconfig storage creation command. Thus there will be no storage files created. However, we do need to have the empty files to show that there is no flag. These files are also in the `required_flag_files`, so if they don\u0027t exist, it will fail the copy rule, thus fail the build.",
      "parentUuid": "92c7aa7e_d5ec830a",
      "revId": "fb732b65601c760afe641a30f3e0a0ee25600493",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d04ca92_44cd05fd",
        "filename": "core/packaging/flags.mk",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1000701
      },
      "writtenOn": "2024-01-19T15:55:28Z",
      "side": 1,
      "message": "Does the aconfig command on line 111-114 output multiple files? If so, would it be possible to invoke aconfig 3 times for the different files? It\u0027s much better to have the build rules be 1:1 with the commands. (Soong can handle multiple output files but Make can\u0027t).",
      "parentUuid": "8feaacd1_f2c5a44d",
      "revId": "fb732b65601c760afe641a30f3e0a0ee25600493",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6160853f_9c80690a",
        "filename": "core/packaging/flags.mk",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1882770
      },
      "writtenOn": "2024-01-19T16:00:13Z",
      "side": 1,
      "message": "Yes, the aconfig command does emit 3 files. We can invoke it three times, one for each file. The issue was all these files based on the same intermediate sorted data. Right now, we only have to do processing once, then feed this intermediate data to each file serialization. Split it into 3 command means we need to do it 3 times. \n\nBut wouldn\u0027t current setup work for all 3 files. Just curious about the concern?",
      "parentUuid": "3d04ca92_44cd05fd",
      "revId": "fb732b65601c760afe641a30f3e0a0ee25600493",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}