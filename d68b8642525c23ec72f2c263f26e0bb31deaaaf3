{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e0869af9_d8133008",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1262904
      },
      "writtenOn": "2021-03-10T13:32:36Z",
      "side": 1,
      "message": "In the process of project making, we found that when the signature key file is symbolic link, the link information will be packed in otacerts.zip. As a result, the OTA upgrade package cannot be used.",
      "revId": "d68b8642525c23ec72f2c263f26e0bb31deaaaf3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2c1c2119_5f306eb3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1262904
      },
      "writtenOn": "2021-03-12T02:37:05Z",
      "side": 1,
      "message": "testing:\n\nORIG_SECURITY_DIR\u003dsecurity_`date +%y%m%d_%H%M%S`\necho mkdir -p ../$ORIG_SECURITY_DIR\nmkdir -p ../$ORIG_SECURITY_DIR\nls -l ./build/target/product/security/testkey.*\n\ncp -fpv ./build/target/product/security/testkey.x509.pem ../$ORIG_SECURITY_DIR\n\nrm -rfv ./build/target/product/security/testkey.x509.pem\nln -sv  $PWD/../$ORIG_SECURITY_DIR/testkey.x509.pem ./build/target/product/security\nls -l ./build/target/product/security/testkey.*\nsleep 3\n# To sure the 2 testkey.* files are the symbolic links.\n\nsource ./build/envsetup.sh\nlunch aosp_coral-userdebug\nmake -j 32\n\n# After make project. check otacerts.zip\nCERT_SECURITY_DIR\u003dotacert_`date +%y%m%d_%H%M%S`\nmkdir ../${CERT_SECURITY_DIR}\nunzip ./out/target/product/coral/system/etc/security/otacerts.zip -d ../${CERT_SECURITY_DIR}\ndiff ../${CERT_SECURITY_DIR} ../$ORIG_SECURITY_DIR\necho diff result \u003d $?",
      "revId": "d68b8642525c23ec72f2c263f26e0bb31deaaaf3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9212ba9_ceb4451b",
        "filename": "target/product/security/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2021-03-12T06:58:46Z",
      "side": 1,
      "message": "Can you do this without copying by adding -symlinks\u003dfalse to the soong_zip command line?",
      "revId": "d68b8642525c23ec72f2c263f26e0bb31deaaaf3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dcb068d8_4fb3c75c",
        "filename": "target/product/security/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1262904
      },
      "writtenOn": "2021-03-15T09:25:17Z",
      "side": 1,
      "message": "Thank you for reply.It works very well.",
      "parentUuid": "e9212ba9_ceb4451b",
      "revId": "d68b8642525c23ec72f2c263f26e0bb31deaaaf3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f0e6cc9c_44aab053",
        "filename": "target/product/security/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 70,
      "author": {
        "id": 1262904
      },
      "writtenOn": "2021-03-16T01:17:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dcb068d8_4fb3c75c",
      "revId": "d68b8642525c23ec72f2c263f26e0bb31deaaaf3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}